/************************************************
jquery.animate-enhanced plugin v0.60
Author: www.benbarnett.net || @benpbarnett

Copyright (c) 2010 Ben Barnett
Licensed under the MIT license
http://www.opensource.org/licenses/mit-license.php
*************************************************/
(function(o,y,z){function B(a,e,j,h){var i=C.exec(e),b=a.css(j)==="auto"?0:a.css(j);b=typeof b=="string"?r(b):b;typeof e=="string"&&r(e);h=h===true?0:b;var k=a.is(":hidden"),d=a.translation();if(j=="left")h=parseInt(b,10)+d.x;if(j=="top")h=parseInt(b,10)+d.y;if(!i&&e=="show"){h=1;k&&a.css({display:"block",opacity:0})}if(i){a=parseFloat(i[2]);if(i[1])a=(i[1]==="-="?-1:1)*a+parseInt(h,10);return a}else return h}function D(a,e,j,h,i,b,k){var d=a.data("cssEnhanced")||jQuery.extend(true,{},E),c=i;if(e==
"left"||e=="top"){var l=d.meta,s=r(a.css(e))||0;c=b?i-s:i;l[e]=c;l[e+"_o"]=a.css(e)=="auto"?0+c:s+c||0;d.meta=l;if(b&&c===0){c=0-l[e+"_o"];l[e]=c;l[e+"_o"]=0}}return a.data("cssEnhanced",F(d,e,j,h,c,b,k))}function F(a,e,j,h,i,b,k){a=typeof a==="undefined"?{}:a;a.secondary=typeof a.secondary==="undefined"?{}:a.secondary;for(var d=f.length-1;d>=0;d--){if(typeof a[f[d]+"transition-property"]==="undefined")a[f[d]+"transition-property"]="";a[f[d]+"transition-property"]+=", "+(b===true?f[d]+"transform":
e);a[f[d]+"transition-duration"]=j+"ms";a[f[d]+"transition-timing-function"]=h;a.secondary[b===true?f[d]+"transform":e]=b===true?k===true&&G?"translate3d("+a.meta.left+"px,"+a.meta.top+"px,0)":"translate("+a.meta.left+"px,"+a.meta.top+"px)":i}return a}function q(a){for(var e in a)return false;return true}function r(a){return Math.abs(a.replace(/px/i,""))}var H=["top","left","opacity","height","width"],f=["","-webkit-","-moz-","-o-"],I=["avoidTransforms","useTranslate3d","leaveTransforms"],C=/^([+-]=)?([\d+-.]+)(.*)$/,
J=/([A-Z])/g,E={secondary:{},meta:{left:0,top:0}};o=(document.body||document.documentElement).style;var t=o.WebkitTransition!==undefined?"webkitTransitionEnd":o.OTransition!==undefined?"oTransitionEnd":"transitionend",A=o.WebkitTransition!==undefined||o.MozTransition!==undefined||o.OTransition!==undefined||o.transition!==undefined,G="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix;jQuery.fn.translation=function(){if(!this[0])return null;for(var a=window.getComputedStyle(this[0],null),e={x:0,
y:0},j=f.length-1;j>=0;j--){var h=a.getPropertyValue(f[j]+"transform");if(h&&/matrix/i.test(h)){a=h.replace(/^matrix\(/i,"").split(/, |\)$/g);e={x:a[4],y:a[5]};break}}return e};jQuery.fn.animate=function(a,e,j,h){var i=jQuery.speed(e,j,h);if(!A||q(a))return y.apply(this,arguments);return this[i.queue===false?"each":"queue"](function(){var b=jQuery(this),k=jQuery.extend({},i),d=this||window,c=0,l=function(){c--;if(c==0){b.queue([]);if(typeof k.complete==="function")return k.complete.apply(d,arguments)}},
s=function(){for(var u={},n=f.length-1;n>=0;n--){u[f[n]+"transition-property"]="none";u[f[n]+"transition-duration"]="";u[f[n]+"transition-timing-function"]=""}b.unbind(t);if(!a.leaveTransforms===true){var w=b.data("cssEnhanced")||{},v={};for(n=f.length-1;n>=0;n--)v[f[n]+"transform"]="";if(typeof w.meta!=="undefined"){v.left=w.meta.left_o+"px";v.top=w.meta.top_o+"px"}b.css(u).css(v)}b.data("cssEnhanced",null);l()},m={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInOutQuint:"cubic-bezier(0.5, 0, 0, 0.8)"},
p=null;m=m[k.easing||"swing"]?m[k.easing||"swing"]:k.easing||"swing";for(var g in a)if(jQuery.inArray(g,I)===-1){var x=B(b,a[g],g,(g=="left"||g=="top")&&a.avoidTransforms!==true?true:false);if(jQuery.inArray(g,H)>-1&&r(b.css(g))!==x&&!((g=="width"||g=="height")&&(a[g]=="show"||a[g]=="hide"||a[g]=="toggle")))D(b,g,k.duration,m,(g=="left"||g=="top")&&a.avoidTransforms===true?x+"px":x,(g=="left"||g=="top")&&a.avoidTransforms!==true?true:false,a.useTranslate3d===true?true:false);else{p=!p?{}:p;p[g]=a[g]}}g=
b.data("cssEnhanced")||{};for(m=f.length-1;m>=0;m--)if(typeof g[f[m]+"transition-property"]!=="undefined")g[f[m]+"transition-property"]=g[f[m]+"transition-property"].substr(2);b.data("cssEnhanced",g);if(p){c++;y.apply(this,[p,k.duration,k.easing,l])}b.unbind(t);if(!q(b.data("cssEnhanced"))&&!q(b.data("cssEnhanced").secondary)){c++;b.css(b.data("cssEnhanced"));setTimeout(function(){b.bind(t,s).css(b.data("cssEnhanced").secondary)})}return this})};jQuery.fn.stop=function(a,e,j){if(!A)return z.apply(this,
[a,e]);a&&this.queue([]);for(var h={},i=f.length-1;i>=0;i--){h[f[i]+"transition-property"]="none";h[f[i]+"transition-duration"]="";h[f[i]+"transition-timing-function"]=""}this.each(function(){var b=jQuery(this),k=window.getComputedStyle(this,null),d={},c;if(!q(b.data("cssEnhanced"))&&!q(b.data("cssEnhanced").secondary)){c=b.data("cssEnhanced");if(e){d=c.secondary;if(!j&&typeof c.meta.left_o!==undefined||typeof c.meta.top_o!==undefined){d.left=typeof c.meta.left_o!==undefined?c.meta.left_o:"auto";
d.top=typeof c.meta.top_o!==undefined?c.meta.top_o:"auto";for(c=f.length-1;c>=0;c--)d[f[c]+"transform"]=""}}else for(var l in b.data("cssEnhanced").secondary){l=l.replace(J,"-$1").toLowerCase();d[l]=k.getPropertyValue(l);if(!j&&/matrix/i.test(d[l])){c=d[l].replace(/^matrix\(/i,"").split(/, |\)$/g);d.left=c[4]+"px"||"auto";d.top=c[5]+"px"||"auto";for(c=f.length-1;c>=0;c--)d[f[c]+"transform"]=""}}b.unbind(t).css(h).css(d).data("cssEnhanced",null)}else z.apply(b,[a,e])});return this}})(jQuery,jQuery.fn.animate,
jQuery.fn.stop);