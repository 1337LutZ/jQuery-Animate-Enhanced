/************************************************
jquery.animate-enhanced plugin v0.65
Author: www.benbarnett.net || @benpbarnett

Copyright (c) 2011 Ben Barnett
Licensed under the MIT license
http://www.opensource.org/licenses/mit-license.php
*************************************************/
(function(o,x,y){function B(a,c,k,g){var h=C.exec(c),f=a.css(k)==="auto"?0:a.css(k);f=typeof f=="string"?u(f):f;typeof c=="string"&&u(c);g=g===true?0:f;var l=a.is(":hidden"),d=a.translation();if(k=="left")g=parseInt(f,10)+d.x;if(k=="top")g=parseInt(f,10)+d.y;if(!h&&c=="show"){g=1;l&&a.css({display:"block",opacity:0})}if(h){a=parseFloat(h[2]);if(h[1])a=(h[1]==="-="?-1:1)*a+parseInt(g,10);return a}else return g}function D(a,c,k,g,h,f,l){var d=a.data("cssEnhanced")||jQuery.extend(true,{},E),b=h;if(c==
"left"||c=="top"){var i=d.meta,q=u(a.css(c))||0;b=f?h-q:h;i[c]=b;i[c+"_o"]=a.css(c)=="auto"?0+b:q+b||0;d.meta=i;if(f&&b===0){b=0-i[c+"_o"];i[c]=b;i[c+"_o"]=0}}return a.data("cssEnhanced",F(d,c,k,g,b,f,l))}function F(a,c,k,g,h,f,l){a=typeof a==="undefined"?{}:a;a.secondary=typeof a.secondary==="undefined"?{}:a.secondary;for(var d=e.length-1;d>=0;d--){if(typeof a[e[d]+"transition-property"]==="undefined")a[e[d]+"transition-property"]="";a[e[d]+"transition-property"]+=", "+(f===true?e[d]+"transform":
c);a[e[d]+"transition-duration"]=k+"ms";a[e[d]+"transition-timing-function"]=g;a.secondary[f===true?e[d]+"transform":c]=f===true?l===true&&G?"translate3d("+a.meta.left+"px,"+a.meta.top+"px,0)":"translate("+a.meta.left+"px,"+a.meta.top+"px)":h}return a}function H(a){for(var c in a)if((c=="width"||c=="height")&&(a[c]=="show"||a[c]=="hide"||a[c]=="toggle"))return true;return false}function p(a){for(var c in a)return false;return true}function u(a){return parseFloat(a.replace(/px/i,""))}var I=["top",
"left","opacity","height","width"],e=["","-webkit-","-moz-","-o-"],J=["avoidTransforms","useTranslate3d","leaveTransforms"],C=/^([+-]=)?([\d+-.]+)(.*)$/,K=/([A-Z])/g,E={secondary:{},meta:{left:0,top:0}};o=(document.body||document.documentElement).style;var r=o.WebkitTransition!==undefined?"webkitTransitionEnd":o.OTransition!==undefined?"oTransitionEnd":"transitionend",z=o.WebkitTransition!==undefined||o.MozTransition!==undefined||o.OTransition!==undefined||o.transition!==undefined,G="WebKitCSSMatrix"in
window&&"m11"in new WebKitCSSMatrix;jQuery.fn.translation=function(){if(!this[0])return null;for(var a=window.getComputedStyle(this[0],null),c={x:0,y:0},k=e.length-1;k>=0;k--){var g=a.getPropertyValue(e[k]+"transform");if(g&&/matrix/i.test(g)){a=g.replace(/^matrix\(/i,"").split(/, |\)$/g);c={x:a[4],y:a[5]};break}}return c};jQuery.fn.animate=function(a,c,k,g){var h=jQuery.speed(c,k,g),f=this,l=0,d=function(){l--;l===0&&typeof h.complete==="function"&&h.complete.apply(f,arguments)};if(!z||p(a)||H(a))return x.apply(this,
arguments);return this[h.queue===false?"each":"queue"](function(){var b=jQuery(this),i=jQuery.extend({},h),q=function(){for(var s={},n=e.length-1;n>=0;n--){s[e[n]+"transition-property"]="none";s[e[n]+"transition-duration"]="";s[e[n]+"transition-timing-function"]=""}b.unbind(r);if(!a.leaveTransforms===true){var v=b.data("cssEnhanced")||{},t={};for(n=e.length-1;n>=0;n--)t[e[n]+"transform"]="";if(typeof v.meta!=="undefined"){t.left=v.meta.left_o+"px";t.top=v.meta.top_o+"px"}b.css(s).css(t)}b.data("cssEnhanced",
null);d.call(b)},m={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out",easeInOutQuint:"cubic-bezier(0.5, 0, 0, 0.8)"},w={};m=m[i.easing||"swing"]?m[i.easing||"swing"]:i.easing||"swing";for(var j in a)if(jQuery.inArray(j,J)===-1){var A=B(b,a[j],j,(j=="left"||j=="top")&&a.avoidTransforms!==true?true:false);if(jQuery.inArray(j,I)>-1)D(b,j,i.duration,m,(j=="left"||j=="top")&&a.avoidTransforms===true?A+"px":A,(j=="left"||j=="top")&&a.avoidTransforms!==true?true:false,a.useTranslate3d===
true?true:false);else w[j]=a[j]}j=b.data("cssEnhanced")||{};for(m=e.length-1;m>=0;m--)if(typeof j[e[m]+"transition-property"]!=="undefined")j[e[m]+"transition-property"]=j[e[m]+"transition-property"].substr(2);b.data("cssEnhanced",j).unbind(r);if(!p(b.data("cssEnhanced"))&&!p(b.data("cssEnhanced").secondary)){l++;b.css(b.data("cssEnhanced"));setTimeout(function(){b.bind(r,q).css(b.data("cssEnhanced").secondary)})}if(!p(w)){l++;x.apply(b,[w,{duration:i.duration,easing:i.easing,complete:d,queue:i.queue}])}return true})};
jQuery.fn.stop=function(a,c,k){if(!z)return y.apply(this,[a,c]);a&&this.queue([]);for(var g={},h=e.length-1;h>=0;h--){g[e[h]+"transition-property"]="none";g[e[h]+"transition-duration"]="";g[e[h]+"transition-timing-function"]=""}this.each(function(){var f=jQuery(this),l=window.getComputedStyle(this,null),d={},b;if(!p(f.data("cssEnhanced"))&&!p(f.data("cssEnhanced").secondary)){b=f.data("cssEnhanced");if(c){d=b.secondary;if(!k&&typeof b.meta.left_o!==undefined||typeof b.meta.top_o!==undefined){d.left=
typeof b.meta.left_o!==undefined?b.meta.left_o:"auto";d.top=typeof b.meta.top_o!==undefined?b.meta.top_o:"auto";for(b=e.length-1;b>=0;b--)d[e[b]+"transform"]=""}}else for(var i in f.data("cssEnhanced").secondary){i=i.replace(K,"-$1").toLowerCase();d[i]=l.getPropertyValue(i);if(!k&&/matrix/i.test(d[i])){b=d[i].replace(/^matrix\(/i,"").split(/, |\)$/g);d.left=b[4]+"px"||"auto";d.top=b[5]+"px"||"auto";for(b=e.length-1;b>=0;b--)d[e[b]+"transform"]=""}}f.unbind(r).css(g).css(d).data("cssEnhanced",null)}else y.apply(f,
[a,c])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);