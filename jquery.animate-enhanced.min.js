/************************************************
	jquery.animate-enhanced plugin v0.1
	Author: www.benbarnett.net || @benpbarnett
*************************************************/
(function(a){var q=false,r=a.fn.animate,s=["top","left","opacity"],e=["","-webkit-","-moz-","-o-"],n=0,i={},o=(document.body||document.documentElement).style;q=o.WebkitTransition!==undefined||o.MozTransition!==undefined||o.OTransition!==undefined||o.transition!==undefined;a.fn.getTranslation=function(b,c,g){return g===true?"translate3d("+b+"px,"+c+"px,0)":"translate("+b+"px,"+c+"px)"};a.fn.applyCSSTransition=function(b,c,g,k,h,j,f){if(c=="left"||c=="top")i[c]=h;return a.fn.applyCSSWithPrefix(b,c,
g,k,h,j,f)};a.fn.applyCSSWithPrefix=function(b,c,g,k,h,j,f){for(var d=e.length-1;d>=0;d--){if(typeof b[e[d]+"transition-property"]==="undefined")b[e[d]+"transition-property"]="";b[e[d]+"transition-property"]+=", "+(j===true?e[d]+"transform":c);b[e[d]+"transition-duration"]=g+"ms";b[e[d]+"transition-timing-function"]=k;b[j===true?e[d]+"transform":c]=j===true?a.fn.getTranslation(i.left,i.top,f):h}return b};a.fn.animate=function(b,c,g,k){if(!q||a.isEmptyObject(b))return r.apply(this,arguments);var h=
c&&typeof c==="object"?c:{complete:k||!k&&g||jQuery.isFunction(c)&&c,duration:c,easing:k&&g||g&&!jQuery.isFunction(g)&&g},j=function(){n--;if(n<=0){a(this).each(function(){a(this).css({"-moz-transition-property":"none","-moz-transition-duration":"","-moz-transition-timing-function":"","-webkit-transition-property":"none","-webkit-transition-duration":"","-webkit-transition-timing-function":"","-o-transition-property":"none","-o-transition-duration":"","-o-transition-timing-function":"","transition-property":"none",
"transition-duration":"","transition-timing-function":""})});if(!b.leaveTransforms===true){i.top!==0&&a(this).each(function(){a(this).css({"-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)",top:i.top+"px"})});i.left!==0&&a(this).each(function(){a(this).css({"-webkit-transform":"translate(0, 0)","-moz-transform":"translate(0, 0)","-o-transform":"translate(0, 0)",transform:"translate(0, 0)",left:i.left+"px"})})}return h.complete.call()}},
f={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",swing:"ease-in-out"},d={},l=null,m="";i.top=0;i.left=0;m=h.easing||"swing";m=f[m]?f[m]:m;for(p in b){cleanVal=b[p].replace(/px/g,"");if(a.inArray(p,s)>-1&&a(this).css(p).replace(/px/g,"")!==cleanVal)a.fn.applyCSSTransition(d,p,h.duration,m,cleanVal,(p=="left"||p=="top")&&b.avoidTransforms!==true?true:false,b.useTranslate3d===true?true:false);else if(p!=="useTranslate3d"&&p!=="avoidTransforms"&&p!=="leaveTransforms"){l=!l?{}:l;l[p]=b[p]}}delete d.internals;
for(f=e.length-1;f>=0;f--)if(typeof d[e[f]+"transition-property"]!=="undefined")d[e[f]+"transition-property"]=d[e[f]+"transition-property"].substr(2);if(l){n++;r.apply(this,[l,h.duration,h.easing,j])}a.isEmptyObject(d)||this.each(function(){n++;a(this).bind(a.browser.webkit?"webkitTransitionEnd":"transitionend",j);a(this).css(d)});return this}})(jQuery);