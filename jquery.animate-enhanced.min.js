/*
jquery.animate-enhanced plugin v1.0
---
http://github.com/benbarnett/jQuery-Animate-Enhanced
http://benbarnett.net
@benpbarnett
*/
(function(c,J,K){function P(a,b,c,e,l,k,h,p,r){var u=!1;h=!0===h&&!0===p;b=b||{};b.original||(b.original={},u=!0);b.properties=b.properties||{};b.secondary=b.secondary||{};p=b.meta;for(var m=b.original,g=b.properties,Q=b.secondary,C=s.length-1;0<=C;C--){var E=s[C]+"transition-property",F=s[C]+"transition-duration",j=s[C]+"transition-timing-function";c=h?s[C]+"transform":c;u&&(m[E]=a.css(E)||"",m[F]=a.css(F)||"",m[j]=a.css(j)||"");Q[c]=h?(!0===r||!0===G&&!1!==r)&&L?"translate3d("+p.left+"px, "+p.top+
"px, 0)":"translate("+p.left+"px,"+p.top+"px)":k;g[E]=(g[E]?g[E]+",":"")+c;g[F]=(g[F]?g[F]+",":"")+e+"ms";g[j]=(g[j]?g[j]+",":"")+l}return b}function A(a){for(var c in a)return!1;return!0}function H(a){return parseFloat(a.replace(a.match(/\D+$/),""))}function M(a){var c=!0;a.each(function(a,e){return c=c&&e.ownerDocument});return c}var R="top right bottom left opacity height width".split(" "),I=["top","right","bottom","left"],s=["-webkit-","-moz-","-o-",""],S=["avoidTransforms","useTranslate3d","leaveTransforms"],
T=/^([+-]=)?([\d+-.]+)(.*)$/,U=/([A-Z])/g,V={secondary:{},meta:{top:0,right:0,bottom:0,left:0}},N=null,B=!1,y=(document.body||document.documentElement).style,O=void 0!==y.WebkitTransition||void 0!==y.MozTransition||void 0!==y.OTransition||void 0!==y.transition,L="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,G=L;c.expr&&c.expr.filters&&(N=c.expr.filters.animated,c.expr.filters.animated=function(a){return c(a).data("events")&&c(a).data("events")["webkitTransitionEnd oTransitionEnd transitionend"]?
!0:N.call(this,a)});c.extend({toggle3DByDefault:function(){return G=!G},toggleDisabledByDefault:function(){return B=!B},setDisabledByDefault:function(a){return B=a}});c.fn.translation=function(){if(!this[0])return null;var a=window.getComputedStyle(this[0],null),c={x:0,y:0};if(a)for(var q=s.length-1;0<=q;q--){var e=a.getPropertyValue(s[q]+"transform");if(e&&/matrix/i.test(e)){a=e.replace(/^matrix\(/i,"").split(/, |\)$/g);c={x:parseInt(a[4],10),y:parseInt(a[5],10)};break}}return c};c.fn.animate=function(a,
b,q,e){a=a||{};var l=!("undefined"!==typeof a.bottom||"undefined"!==typeof a.right),k=c.speed(b,q,e),h=this,p=0,r=function(){p--;0===p&&"function"===typeof k.complete&&k.complete.apply(h,arguments)},u;if(!(u=!0===("undefined"!==typeof a.avoidCSSTransitions?a.avoidCSSTransitions:B)))if(!(u=!O))if(!(u=A(a))){var m;a:{for(m in a)if(("width"==m||"height"==m)&&("show"==a[m]||"hide"==a[m]||"toggle"==a[m])){m=!0;break a}m=!1}u=m||0>=k.duration}return u?J.apply(this,arguments):this[!0===k.queue?"queue":"each"](function(){var g=
c(this),b=c.extend({},k),h=function(b){var e=g.data("jQe")||{original:{}},f={};if(2==b.eventPhase){if(!0!==a.leaveTransforms){for(b=s.length-1;0<=b;b--)f[s[b]+"transform"]="";if(l&&"undefined"!==typeof e.meta){b=0;for(var d;d=I[b];++b)f[d]=e.meta[d+"_o"]+"px",c(this).css(d,f[d])}}g.unbind("webkitTransitionEnd oTransitionEnd transitionend").css(e.original).css(f).data("jQe",null);"hide"===a.opacity&&g.css({display:"none",opacity:""});r.call(this)}},e={bounce:"cubic-bezier(0.0, 0.35, .5, 1.3)",linear:"linear",
swing:"ease-in-out",easeInQuad:"cubic-bezier(0.550, 0.085, 0.680, 0.530)",easeInCubic:"cubic-bezier(0.550, 0.055, 0.675, 0.190)",easeInQuart:"cubic-bezier(0.895, 0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755, 0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470, 0.000, 0.745, 0.715)",easeInExpo:"cubic-bezier(0.950, 0.050, 0.795, 0.035)",easeInCirc:"cubic-bezier(0.600, 0.040, 0.980, 0.335)",easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeOutQuad:"cubic-bezier(0.250, 0.460, 0.450, 0.940)",
easeOutCubic:"cubic-bezier(0.215, 0.610, 0.355, 1.000)",easeOutQuart:"cubic-bezier(0.165, 0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230, 1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390, 0.575, 0.565, 1.000)",easeOutExpo:"cubic-bezier(0.190, 1.000, 0.220, 1.000)",easeOutCirc:"cubic-bezier(0.075, 0.820, 0.165, 1.000)",easeOutBack:"cubic-bezier(0.175, 0.885, 0.320, 1.275)",easeInOutQuad:"cubic-bezier(0.455, 0.030, 0.515, 0.955)",easeInOutCubic:"cubic-bezier(0.645, 0.045, 0.355, 1.000)",
easeInOutQuart:"cubic-bezier(0.770, 0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860, 0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445, 0.050, 0.550, 0.950)",easeInOutExpo:"cubic-bezier(1.000, 0.000, 0.000, 1.000)",easeInOutCirc:"cubic-bezier(0.785, 0.135, 0.150, 0.860)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)"},m={},e=e[b.easing||"swing"]?e[b.easing||"swing"]:b.easing||"swing",j;for(j in a)if(-1===c.inArray(j,S)){var q=-1<c.inArray(j,I),n;var f=g,x=a[j],v=j,t=q&&!0!==
a.avoidTransforms;if("d"==v)n=void 0;else if(M(f)){var d=T.exec(x);n="auto"===f.css(v)?0:f.css(v);n="string"==typeof n?H(n):n;"string"==typeof x&&H(x);var t=!0===t?0:n,u=f.is(":hidden"),w=f.translation();"left"==v&&(t=parseInt(n,10)+w.x);"right"==v&&(t=parseInt(n,10)+w.x);"top"==v&&(t=parseInt(n,10)+w.y);"bottom"==v&&(t=parseInt(n,10)+w.y);!d&&"show"==x?(t=1,u&&f.css({display:"LI"==f.context.tagName?"list-item":"block",opacity:0})):!d&&"hide"==x&&(t=0);d?(f=parseFloat(d[2]),d[1]&&(f=("-="===d[1]?
-1:1)*f+parseInt(t,10)),n=f):n=t}else n=void 0;d=j;f=n;x=g;if(M(x)){v=-1<c.inArray(d,R);if(("width"==d||"height"==d||"opacity"==d)&&parseFloat(f)===parseFloat(x.css(d)))v=!1;d=v}else d=!1;if(d){var d=g,f=j,x=b.duration,v=e,q=q&&!0!==a.avoidTransforms,t=l,u=!0===a.useTranslate3d,w=(w=d.data("jQe"))&&!A(w)?w:c.extend(!0,{},V),z=n;if(-1<c.inArray(f,I)){var D=w.meta,B=H(d.css(f))||0,y=f+"_o",z=n-B;D[f]=z;D[y]="auto"==d.css(f)?0+z:B+z||0;w.meta=D;t&&0===z&&(z=0-D[y],D[f]=z,D[y]=0)}d.data("jQe",P(d,w,f,
x,v,z,q,t,u))}else m[j]=a[j]}g.unbind("webkitTransitionEnd oTransitionEnd transitionend");if((j=g.data("jQe"))&&!A(j)&&!A(j.secondary)){p++;g.css(j.properties);var G=j.secondary;setTimeout(function(){g.bind("webkitTransitionEnd oTransitionEnd transitionend",h).css(G)})}else b.queue=!1;A(m)||(p++,J.apply(g,[m,{duration:b.duration,easing:c.easing[b.easing]?b.easing:c.easing.swing?"swing":"linear",complete:r,queue:b.queue}]));return!0})};c.fn.animate.defaults={};c.fn.stop=function(a,b,q){if(!O)return K.apply(this,
[a,b]);a&&this.queue([]);this.each(function(){var e=c(this),l=e.data("jQe");if(l&&!A(l)){var k,h={};if(b){if(h=l.secondary,!q&&void 0!==typeof l.meta.left_o||void 0!==typeof l.meta.top_o){h.left=void 0!==typeof l.meta.left_o?l.meta.left_o:"auto";h.top=void 0!==typeof l.meta.top_o?l.meta.top_o:"auto";for(k=s.length-1;0<=k;k--)h[s[k]+"transform"]=""}}else if(!A(l.secondary)){var p=window.getComputedStyle(e[0],null);if(p)for(var r in l.secondary)if(l.secondary.hasOwnProperty(r)&&(r=r.replace(U,"-$1").toLowerCase(),
h[r]=p.getPropertyValue(r),!q&&/matrix/i.test(h[r]))){k=h[r].replace(/^matrix\(/i,"").split(/, |\)$/g);h.left=parseFloat(k[4])+parseFloat(e.css("left"))+"px"||"auto";h.top=parseFloat(k[5])+parseFloat(e.css("top"))+"px"||"auto";for(k=s.length-1;0<=k;k--)h[s[k]+"transform"]=""}}e.unbind("webkitTransitionEnd oTransitionEnd transitionend");e.css(l.original).css(h).data("jQe",null)}else K.apply(e,[a,b])});return this}})(jQuery,jQuery.fn.animate,jQuery.fn.stop);